{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.body-elements')\nconst imagesList = document.querySelector('.images-list');\n\nconst BASE_URL = 'https://pixabay.com/api/'\nconst API_KEY = \"27271649-0bf2f3b05194a9267cfa0a660\"\nconst url = new URL(BASE_URL);\nurl.searchParams.append(\"key\", API_KEY)\nurl.searchParams.append('image_type', 'photo')\nurl.searchParams.append('orientation', 'horizontal')\nurl.searchParams.append('safesearch', 'true')\nurl.searchParams.append('q', 'cat')\n\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const query = event.currentTarget.elements.inputValue.value;\n\n    renderImages(query);\n})\n\nfunction getImage (quary) {\n    url.searchParams.set('q', quary);\n    return fetch(url)\n        .then((res) => {\n            if (res.ok) {\n                return res.json()\n            } else {\n                throw new Error('Request is ot OK.')\n            }\n        }).catch(error => {\n            throw new Error('Error fetching Data.')\n        })\n};\n\nfunction renderImages(quary) {\n    getImage(quary)\n        .then(image => {\n            imagesList.insertAdjacentHTML(\"afterbegin\", createImageHTML(image))\n            if (image.hits.length === 0) {\n                iziToast.error({\n                    position: 'center',\n                    title: '',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n});\n            }\n        })\n        .catch(error => {\n        alert(error)\n    })\n    \n};\n\nfunction createImageHTML(image) {\n    const imagesHTML = image.hits.reduce((html, hit) => {\n        html += `\n            <div class=\"card gallery\">\n                    <a href=\"${hit.largeImageURL}\">\n                        <img class=\"gallery-image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\">\n                    </a>\n                <div class=\"card-elems\">\n                    <div class=\"card-text-el\">\n                        <h2 class=\"card-title\">Likes</h2>\n                        <p class=\"card-text\">${hit.likes}</p>\n                    </div>\n                    <div class=\"card-text-el\">\n                        <h2 class=\"card-title\">Views</h2>\n                        <p class=\"card-text\">${hit.views}</p>\n                    </div>\n                    <div class=\"card-text-el\">\n                        <h2 class=\"card-title\">Comments</h2>\n                        <p class=\"card-text\">${hit.comments}</p>\n                    </div>\n                    <div class=\"card-text-el\">\n                        <h2 class=\"card-title\">Downloads</h2>\n                        <p class=\"card-text\">${hit.downloads}</p>\n                    </div>\n                </div>\n            </div>\n        `;\n        return html;\n    }, '');\n\n    return imagesHTML;\n}\n\n\n\n\n//webformatURL — посилання на маленьке зображення для списку карток у галереї\n//largeImageURL — посилання на велике зображення для модального вікна\n//tags — рядок з описом зображення. Підійде для атрибута alt\n//likes — кількість вподобайок\n//views — кількість переглядів\n//comments — кількість коментарів\n//downloads — кількість завантажень "],"names":["form","imagesList","BASE_URL","API_KEY","url","event","query","renderImages","getImage","quary","res","error","image","createImageHTML","iziToast","html","hit"],"mappings":"ivBAMA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAW,2BACXC,EAAU,qCACVC,EAAM,IAAI,IAAIF,CAAQ,EAC5BE,EAAI,aAAa,OAAO,MAAOD,CAAO,EACtCC,EAAI,aAAa,OAAO,aAAc,OAAO,EAC7CA,EAAI,aAAa,OAAO,cAAe,YAAY,EACnDA,EAAI,aAAa,OAAO,aAAc,MAAM,EAC5CA,EAAI,aAAa,OAAO,IAAK,KAAK,EAGlCJ,EAAK,iBAAiB,SAAWK,GAAU,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,WAAW,MAEtDE,EAAaD,CAAK,CACtB,CAAC,EAED,SAASE,EAAUC,EAAO,CACtB,OAAAL,EAAI,aAAa,IAAI,IAAKK,CAAK,EACxB,MAAML,CAAG,EACX,KAAMM,GAAQ,CACX,GAAIA,EAAI,GACJ,OAAOA,EAAI,KAAM,EAEjB,MAAM,IAAI,MAAM,mBAAmB,CAEnD,CAAS,EAAE,MAAMC,GAAS,CACd,MAAM,IAAI,MAAM,sBAAsB,CAClD,CAAS,CACT,CAEA,SAASJ,EAAaE,EAAO,CACzBD,EAASC,CAAK,EACT,KAAKG,GAAS,CACXX,EAAW,mBAAmB,aAAcY,EAAgBD,CAAK,CAAC,EAC9DA,EAAM,KAAK,SAAW,GACtBE,EAAS,MAAM,CACX,SAAU,SACV,MAAO,GACP,QAAS,0EAC7B,CAAC,CAED,CAAS,EACA,MAAMH,GAAS,CAChB,MAAMA,CAAK,CACnB,CAAK,CAEL,CAEA,SAASE,EAAgBD,EAAO,CA8B5B,OA7BmBA,EAAM,KAAK,OAAO,CAACG,EAAMC,KACxCD,GAAQ;AAAA;AAAA,+BAEeC,EAAI;AAAA,0DACuBA,EAAI,sBAAsBA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKzCA,EAAI;AAAA;AAAA;AAAA;AAAA,+CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,+CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,+CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,UAKpCD,GACR,EAAE,CAGT"}